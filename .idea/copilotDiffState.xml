<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Backend/admin-service/src/main/java/com/cibf/adminservice/admin/Controller/AdminUserManagementController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Backend/admin-service/src/main/java/com/cibf/adminservice/admin/Controller/AdminUserManagementController.java" />
              <option name="originalContent" value="package com.cibf.adminservice.admin.Controller;&#10;&#10;import com.cibf.adminservice.admin.DTO.Internal.UserServiceDTO;&#10;import com.cibf.adminservice.admin.DTO.Request.UpdateUserStatusRequestDTO;&#10;import com.cibf.adminservice.admin.DTO.Response.ApiResponse;&#10;import com.cibf.adminservice.admin.DTO.Response.UserManagementResponseDTO;&#10;import com.cibf.adminservice.admin.Service.UserManagementService;&#10;import lombok.RequiredArgsConstructor;&#10;import lombok.extern.slf4j.Slf4j;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import javax.validation.Valid;&#10;import java.util.List;&#10;import java.util.UUID;&#10;&#10;/**&#10; * Controller for managing users through admin service&#10; * Base URL: /cibf/admin-service/users-management&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/users-management&quot;)&#10;@RequiredArgsConstructor&#10;@Slf4j&#10;@CrossOrigin(origins = &quot;*&quot;)&#10;public class AdminUserManagementController {&#10;&#10;    private final UserManagementService userManagementService;&#10;&#10;    /**&#10;     * Get all users&#10;     * GET /cibf/admin-service/users-management&#10;     */&#10;    @GetMapping&#10;    public ResponseEntity&lt;ApiResponse&lt;List&lt;UserServiceDTO&gt;&gt;&gt; getAllUsers() {&#10;        log.info(&quot;GET /users-management - Fetching all users&quot;);&#10;        List&lt;UserServiceDTO&gt; users = userManagementService.getAllUsers();&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;Users fetched successfully&quot;, users));&#10;    }&#10;&#10;    /**&#10;     * Get user by ID&#10;     * GET /cibf/admin-service/users-management/{id}&#10;     */&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; getUserById(@PathVariable UUID id) {&#10;        log.info(&quot;GET /users-management/{} - Fetching user details&quot;, id);&#10;        UserServiceDTO user = userManagementService.getUserById(id);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User details fetched successfully&quot;, user));&#10;    }&#10;&#10;    /**&#10;     * Update user status (enable/disable)&#10;     * PUT /cibf/admin-service/users-management/{id}/status&#10;     */&#10;    @PutMapping(&quot;/{id}/status&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; updateUserStatus(&#10;            @PathVariable UUID id,&#10;            @Valid @RequestBody UpdateUserStatusRequestDTO request) {&#10;        log.info(&quot;PUT /users-management/{}/status - Updating user status to: {}&quot;, id, request.getIsActive());&#10;        UserServiceDTO updatedUser = userManagementService.updateUserStatus(id, request.getIsActive());&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User status updated successfully&quot;, updatedUser));&#10;    }&#10;&#10;    /**&#10;     * Update user role&#10;     * PUT /cibf/admin-service/users-management/{id}/role&#10;     */&#10;    @PutMapping(&quot;/{id}/role&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; updateUserRole(&#10;            @PathVariable UUID id,&#10;            @RequestParam String role) {&#10;        log.info(&quot;PUT /users-management/{}/role - Updating user role to: {}&quot;, id, role);&#10;        UserServiceDTO updatedUser = userManagementService.updateUserRole(id, role);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User role updated successfully&quot;, updatedUser));&#10;    }&#10;&#10;    /**&#10;     * Search users by query&#10;     * GET /cibf/admin-service/users-management/search&#10;     */&#10;    @GetMapping(&quot;/search&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;List&lt;UserServiceDTO&gt;&gt;&gt; searchUsers(@RequestParam String query) {&#10;        log.info(&quot;GET /users-management/search?query={} - Searching users&quot;, query);&#10;        List&lt;UserServiceDTO&gt; users = userManagementService.searchUsers(query);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;Search completed successfully&quot;, users));&#10;    }&#10;&#10;    /**&#10;     * Get user statistics&#10;     * GET /cibf/admin-service/users-management/statistics&#10;     */&#10;    @GetMapping(&quot;/statistics&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;Object&gt;&gt; getUserStatistics() {&#10;        log.info(&quot;GET /users-management/statistics - Fetching user statistics&quot;);&#10;        Object statistics = userManagementService.getUserStatistics();&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User statistics fetched successfully&quot;, statistics));&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.cibf.adminservice.admin.Controller;&#10;&#10;import com.cibf.adminservice.admin.DTO.Internal.UserServiceDTO;&#10;import com.cibf.adminservice.admin.DTO.Request.UpdateUserStatusRequestDTO;&#10;import com.cibf.adminservice.admin.DTO.Response.ApiResponse;&#10;import com.cibf.adminservice.admin.Service.UserManagementService;&#10;import jakarta.validation.Valid;&#10;import lombok.RequiredArgsConstructor;&#10;import lombok.extern.slf4j.Slf4j;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.util.List;&#10;import java.util.UUID;&#10;&#10;/**&#10; * Controller for managing users through admin service&#10; * Base URL: /cibf/admin-service/users-management&#10; */&#10;@RestController&#10;@RequestMapping(&quot;/users-management&quot;)&#10;@RequiredArgsConstructor&#10;@Slf4j&#10;@CrossOrigin(origins = &quot;*&quot;)&#10;public class AdminUserManagementController {&#10;&#10;    private final UserManagementService userManagementService;&#10;&#10;    /**&#10;     * Get all users&#10;     * GET /cibf/admin-service/users-management&#10;     */&#10;    @GetMapping&#10;    public ResponseEntity&lt;ApiResponse&lt;List&lt;UserServiceDTO&gt;&gt;&gt; getAllUsers() {&#10;        log.info(&quot;GET /users-management - Fetching all users&quot;);&#10;        List&lt;UserServiceDTO&gt; users = userManagementService.getAllUsers();&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;Users fetched successfully&quot;, users));&#10;    }&#10;&#10;    /**&#10;     * Get user by ID&#10;     * GET /cibf/admin-service/users-management/{id}&#10;     */&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; getUserById(@PathVariable UUID id) {&#10;        log.info(&quot;GET /users-management/{} - Fetching user details&quot;, id);&#10;        UserServiceDTO user = userManagementService.getUserById(id);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User details fetched successfully&quot;, user));&#10;    }&#10;&#10;    /**&#10;     * Update user status (enable/disable)&#10;     * PUT /cibf/admin-service/users-management/{id}/status&#10;     */&#10;    @PutMapping(&quot;/{id}/status&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; updateUserStatus(&#10;            @PathVariable UUID id,&#10;            @Valid @RequestBody UpdateUserStatusRequestDTO request) {&#10;        log.info(&quot;PUT /users-management/{}/status - Updating user status to: {}&quot;, id, request.getIsActive());&#10;        UserServiceDTO updatedUser = userManagementService.updateUserStatus(id, request.getIsActive());&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User status updated successfully&quot;, updatedUser));&#10;    }&#10;&#10;    /**&#10;     * Update user role&#10;     * PUT /cibf/admin-service/users-management/{id}/role&#10;     */&#10;    @PutMapping(&quot;/{id}/role&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;UserServiceDTO&gt;&gt; updateUserRole(&#10;            @PathVariable UUID id,&#10;            @RequestParam String role) {&#10;        log.info(&quot;PUT /users-management/{}/role - Updating user role to: {}&quot;, id, role);&#10;        UserServiceDTO updatedUser = userManagementService.updateUserRole(id, role);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User role updated successfully&quot;, updatedUser));&#10;    }&#10;&#10;    /**&#10;     * Search users by query&#10;     * GET /cibf/admin-service/users-management/search&#10;     */&#10;    @GetMapping(&quot;/search&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;List&lt;UserServiceDTO&gt;&gt;&gt; searchUsers(@RequestParam String query) {&#10;        log.info(&quot;GET /users-management/search?query={} - Searching users&quot;, query);&#10;        List&lt;UserServiceDTO&gt; users = userManagementService.searchUsers(query);&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;Search completed successfully&quot;, users));&#10;    }&#10;&#10;    /**&#10;     * Get user statistics&#10;     * GET /cibf/admin-service/users-management/statistics&#10;     */&#10;    @GetMapping(&quot;/statistics&quot;)&#10;    public ResponseEntity&lt;ApiResponse&lt;Object&gt;&gt; getUserStatistics() {&#10;        log.info(&quot;GET /users-management/statistics - Fetching user statistics&quot;);&#10;        Object statistics = userManagementService.getUserStatistics();&#10;        return ResponseEntity.ok(ApiResponse.success(&quot;User statistics fetched successfully&quot;, statistics));&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>